(()=>{"use strict";var e={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return e.d(l,{a:l}),l},d:(t,l)=>{for(var a in l)e.o(l,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:l[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,l=window.wp.hooks,a=window.wp.compose,r=window.wp.blockEditor,i=window.wp.components,n=window.wp.element,o=window.wp.apiFetch;var s=e.n(o);const c=window.ReactJSXRuntime,p=(0,a.createHigherOrderComponent)(e=>l=>{const{attributes:a,setAttributes:o}=l,[p,d]=(0,n.useState)([]),[u,g]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{s()({path:"/pll/v1/languages"}).then(e=>{const t=e.map(e=>({label:e.name,value:e.slug}));d(t),g(!1)}).catch(()=>{g(!1)})},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e,{...l},"edit"),l.isSelected&&(0,c.jsx)(r.InspectorControls,{children:(0,c.jsx)(i.PanelBody,{title:(0,t.__)("Block visibility by language","rather-simple-polylang-free-extras"),children:u?(0,c.jsx)(i.Spinner,{}):(0,c.jsx)(i.SelectControl,{label:(0,t.__)("This block is displayed for:","rather-simple-polylang-free-extras"),value:a.languageVisibility,options:[{label:(0,t.__)("All languages","rather-simple-polylang-free-extras"),value:""},...p],onChange:e=>o({languageVisibility:e})})})})]})},"addLanguageSelectControl");(0,l.addFilter)("blocks.registerBlockType","occ/rather-simple-polylang-free-extras",function(e,t){return{...e,attributes:{...e.attributes,languageVisibility:{type:"string",default:""}}}}),(0,l.addFilter)("editor.BlockEdit","occ/rather-simple-polylang-free-extras",p)})();
(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,i=window.wp.hooks,n=window.wp.compose,l=window.wp.blockEditor,a=(window.wp.data,window.wp.components),o=window.wp.apiFetch;var r=e.n(o);const s=window.wp.element,p=window.ReactJSXRuntime,c=(0,n.createHigherOrderComponent)(e=>i=>{const{attributes:n,setAttributes:o}=i,[c,d]=(0,s.useState)([]),[w,u]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{r()({path:"/pll/v1/languages"}).then(e=>{const t=e.map(e=>({label:e.name,value:e.slug}));d(t),u(!1)}).catch(()=>{u(!1)})},[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(e,{...i},"edit"),i.isSelected&&(0,p.jsx)(l.InspectorControls,{children:(0,p.jsx)(a.PanelBody,{title:(0,t.__)("Language settings","rather-simple-polylang-rest-api"),children:w?(0,p.jsx)(a.Spinner,{}):(0,p.jsx)(a.SelectControl,{label:(0,t.__)("This block is displayed for:","rather-simple-polylang-rest-api"),value:n.languageVisibility,options:[{label:(0,t.__)("All languages","rather-simple-polylang-rest-api"),value:""},...c],onChange:e=>o({languageVisibility:e})})})})]})},"withMyPluginControls");(0,i.addFilter)("blocks.registerBlockType","occ/rather-simple-polylang-rest-api",function(e,t){return{...e,attributes:{...e.attributes,languageVisibility:{type:"string"}}}}),(0,i.addFilter)("editor.BlockEdit","occ/with-inspector-controls",c)})();
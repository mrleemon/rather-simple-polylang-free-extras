(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,a=window.wp.hooks,r=window.wp.compose,l=window.wp.blockEditor,n=window.wp.components,i=window.wp.element,o=window.wp.apiFetch;var s=e.n(o);const p=window.ReactJSXRuntime,c=(0,r.createHigherOrderComponent)(e=>a=>{const{attributes:r,setAttributes:o}=a,[c,d]=(0,i.useState)([]),[g,u]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{s()({path:"/pll/v1/languages"}).then(e=>{const t=e.map(e=>({label:e.name,value:e.slug}));d(t),u(!1)}).catch(()=>{u(!1)})},[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(e,{...a},"edit"),a.isSelected&&(0,p.jsx)(l.InspectorControls,{children:(0,p.jsx)(n.PanelBody,{title:(0,t.__)("Language settings","rather-simple-polylang-free-extras"),children:g?(0,p.jsx)(n.Spinner,{}):(0,p.jsx)(n.SelectControl,{label:(0,t.__)("This block is displayed for:","rather-simple-polylang-free-extras"),value:r.languageVisibility,options:[{label:(0,t.__)("All languages","rather-simple-polylang-free-extras"),value:""},...c],onChange:e=>o({languageVisibility:e})})})})]})},"addLanguageSelectControl");(0,a.addFilter)("blocks.registerBlockType","occ/rather-simple-polylang-free-extras",function(e,t){return{...e,attributes:{...e.attributes,languageVisibility:{type:"string"}}}}),(0,a.addFilter)("editor.BlockEdit","occ/rather-simple-polylang-free-extras",c)})();